!function(a,b){function c(a){return a.replace(/([^:]+:\/\/[^\/]+).*/,"$1")}function d(a,c){return("string"!=typeof a||c===a||"*"===a)&&!(b.isFunction(a)&&!a(c))}function e(a,b,c){var d;if(void 0===c&&(c=0),a.frames)try{for(d=0;d<a.frames.length;d++)try{if(a.frames[d]===b)return"f,"+d}catch(a){if(-2147024891!==a.number)throw a}}catch(a){if(-2146823279!==a.number)throw a}if(a.parent&&a.parent===b)return"p";if(a.opener&&a.opener===b)return"o";if(c>=4)return!1;var f;if(a.frames&&a.frames.length>0)for(d=0;d<a.frames.length;d++)if(f=e(a.frames[d],b,c+1))return"f,"+d+"."+f;return a.parent&&a.parent!==a&&(f=e(a.parent,b,c+1))?"p."+f:!(!a.opener||a.opener===a||!(f=e(a.opener,b,c+1)))&&"o"+f}function f(a,b){if("string"==typeof b)return":"+b;if(a===b)throw new Error("Trying to postMessage to self. Pointlessly useless.");if(a.parent&&a.parent!==a&&a.parent===b)return"p";if(a.opener&&a.opener!==a&&a.opener===b)return"o";var c=e(a,b);if(c)return c;throw new Error("Couldn't serialize window reference")}var g=1,h=!!a.postMessage;b.postMessage=function(d,e,j,k){if(!e)throw new Error("targetHost argument was not supplied to jQuery.postMessage");if(!j)throw new Error("No targetWindow specified");if(e=c(e),h)try{return void j.postMessage(d,e)}catch(a){if(-2147467262!=a.number)throw a}try{var l=j.__receiveMessageHook;if(l)return void l(d,e)}catch(a){}var m=f(a,k||j),n=c(document.location.href),o=document.createElement("iframe");if(!e||"*"==e)throw new Error("$.postMessage(): Must specify targetHost on browsers that don't support postMessage natively (cannot be '*').");b("body").append(b(o).hide().attr("src",e+i()+"#"+ +new Date+g+"&"+m+"&"+n+"&"+encodeURIComponent(d)).load(function(){b(o).remove()})),g++},b.receiveMessage=function(c,e){if(!c)throw new Error("No callback function specified");e||(e="*"),b(a).on("message",function(a,b,f){return b||(b=a.originalEvent?a.originalEvent.data:a.data),f||(f=a.originalEvent?a.originalEvent.origin:a.origin),!!d(e,a.originalEvent?a.originalEvent.origin:f)&&c({data:b,origin:f})})},a.__receiveMessageHook=function(c,d){var e=new b.Event("message");e.data=c,e.origin=d,b(a).trigger(e,[e.data,e.origin])},b.fn.postMessage=function(a,c,d){return this.each(function(e,f){if(!(f instanceof Window))throw new Error("postMessage can only be sent to a window");b.postMessage(a,c,f,d)}),this},b.event.special.message={add:function(a){var b=a.handler;a.handler=function(a,c,d){return a.data=a.originalEvent?a.originalEvent.data:c,a.origin=a.originalEvent?a.originalEvent.origin:d,b.call(this,a,a.data,a.origin)}}};var i=function(){if(!a._jqueryPostMessagePolyfillPath)throw new Error("Must configure jquery.postMessage() with window._jqueryPostMessagePolyfillPath for IE7 support. Should be '/root-relative-path-on-my-server/postmessage.htm'");return a._jqueryPostMessagePolyfillPath}}(window,jQuery);