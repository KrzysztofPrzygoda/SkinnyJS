!function(t){t.CustomEvent=function(e,n){this._host=e,this.eventType=n,this._callbacks=new t.Callbacks},t.CustomEvent.prototype.fire=function(e,n){var o=new t.Event(this.eventType);return t.extend(o,e),o.data=t.extend({},o.data,e),this._callbacks.fireWith(n||this._host,[o]),o},t.CustomEvent.prototype.add=function(t){t&&this._callbacks.add(t)},t.CustomEvent.prototype.one=function(e){if(e){var n=this,o=t.proxy(function(){try{e.apply(this,arguments)}finally{n.remove(o)}},this);this.add(o)}},t.CustomEvent.prototype.remove=function(t){t&&this._callbacks.remove(t)},t.CustomEvent.prototype.empty=function(){this._callbacks.empty()},t.CustomEvent.create=function(e,n){var o="on"+n,s=new t.CustomEvent(e,n);return e[o]=s,s}}(jQuery);