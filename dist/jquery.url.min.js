!function(t){t.Url=function(r){var i=this,e=function(t){return null==t||""===t?"":t.toString()},n="";this.protocol=function(t){if(void 0===t)return n;(n=e(t))&&":"!=n.charAt(n.length-1)&&(n+=":")};var s="";this.hostname=function(t){if(void 0===t)return s;s=e(t)};var h="";this.port=function(t){if(void 0===t)return h;h=e(t)},this.host=function(t){if(void 0===t){var r=s;return h&&(r+=":"+h),r}if(t=e(t)){var i=t.indexOf(":");-1!=i?(s=t.substr(0,i),h=t.substr(i+1,t.length)):(s=e(t),h="")}else s="",h=""};var u="";this.pathname=function(t){if(void 0===t)return u;u=e(t)},this.queryString={},this.search=function(r){if(void 0===r){var n=t.param(i.queryString);return n?"?"+n:n}r=e(r),i.queryString=t.deparam(r)};var o="";this.hash=function(t){if(void 0===t)return o;(t=e(t)).length>0&&"#"!=t.charAt(0)&&(t="#"+t),o=t};this.toString=function(){var t="";return i.host()&&(t=(n||"http:")+"//"+i.host()),t+i.pathname()+i.search()+i.hash()},this.get=function(t,r){return i.queryString.hasOwnProperty(t)?e(i.queryString[t]):r},this.set=function(t,r){if(null==t||""===t)throw new Error("Invalid key: "+t);i.queryString[t]=r},this.remove=function(t){delete i.queryString[t]},this.getItemOrDefault=this.get,this.getOrDefault=this.get,this.getItem=this.get,this.setItem=this.set,this.removeItem=this.remove,function(r){var e,s=r;if(0===s.search(/https\:\/\/+/i)?(n="https:",s=r.substr(8)):0===s.search(/http\:\/\/+/i)&&(n="http:",s=r.substr(7)),0!==s.length){if(""!==n){if(-1==(e=s.search(/[\/\?\#]/i)))return void i.host(s);i.host(s.substring(0,e)),s=s.substr(e)}if(0!==s.length){if(0!==(e=s.search(/[\?\#]/i))){if(-1==e)return void(u=s);u=s.substr(0,e),s=s.substr(e)}0!==s.length&&(0===s.indexOf("?")&&(-1==(e=s.indexOf("#"))?(i.queryString=t.deparam(s.substr(1)),s=""):(i.queryString=t.deparam(s.substring(1,e)),s=s.substr(e))),0!==s.length&&0===s.indexOf("#")&&(o=s))}}}(r?r.toString():"")}}(jQuery);